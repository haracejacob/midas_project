<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
		"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
		"http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
	<constant name="struts.devMode" value="true" />
	
	<constant name="struts.action.extension" value="xhtml,,xml,json,action"/>
	
	<constant name="struts.mapper.class" value="org.apache.struts2.dispatcher.mapper.PrefixBasedActionMapper" />
	<constant name="struts.mapper.prefixMapping" value="/rest:rest,:struts"/>
	
    <constant name="struts.convention.action.suffix" value="Controller"/>
    <constant name="struts.convention.action.mapAllMatches" value="true"/>
    <constant name="struts.convention.default.parent.package" value="myRestPackage"/>
    <constant name="struts.convention.package.locators" value="rest"/>
	
	<package name="myRestPackage" namespace="/rest" extends="rest-default"/>
    
	<package name="midasWeb" namespace="/" extends="struts-default, tiles-default">
		<result-types>
			<result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult">
			</result-type>
		</result-types>
		
		<action name="">
			<result type="tiles">main</result>
		</action>
		<action name="main" class="main.java.action.testAction" method="showTestList">
			<result type="tiles" name="SUCCESS">test</result>
		</action>
		
		<!-- insertTest는 정적 insertTestAjax는 Ajax에 쓰이며 동적 그런데 /rest/test에 post보내도 insert됨-->
		<action name="insertTest" class="main.java.action.testAction" method="insertTest">
			<result type="redirect" name="SUCCESS">
				<param name="location">main</param>
			</result>
		</action>
		<action name="insertTestAjax" class="main.java.action.testAction" method="insertTest">
			<result type="redirect" name="SUCCESS">
				<param name="location">showTestList</param>
			</result>
		</action>
		<action name="deleteTest" class="main.java.action.testAction" method="deleteTest">
			<result type="redirect" name="SUCCESS">
				<param name="location">main</param>
			</result>
		</action>
	</package>
</struts>